{% extends "base.html" %}
{% block title %}Friends{% endblock %}
{% block content %}

<br/>
<h2>You can search for a user by username to add friend or follow</h2>
<br/>
<form method="POST">
    <input type="hidden" name="post_id" value="1">
    <div class="form-group">

        <input
                type="username"
                class="form-control"
                id="username"
                name="username"
                placeholder="Enter username"
        />
    </div>
    </br>
    <div style="display: flex; justify-content: center;" class="button-container">
        <button type="submit" class="btn btn-primary">Search</button>
    </div>
</form>

{% if users|length > 0 %}
</br>
<h2>Here are the search results:</h2>
</br>

<table class="table table-striped table-hover">
    <thead class="thead-dark">
    <tr>
        <th>Username</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Nickname</th>
        <th>Friend</th>
        <th>Follow</th>
    </tr>
    </thead>
    <tbody>
    {% for u in users %}
    <tr>
        <td>{{ u['username'] }}</td>
        <td>{{ u['fname'] }}</td>
        <td>{{ u['lname'] }}</td>
        <td>{{ u['nickname'] }}</td>
        <td style=" padding:10px;">
            <form method="POST" style="margin:0px; padding:0px; display:inline;">
                <input type="hidden" name="post_id" value="2">
                <input type="hidden" name="user_id" value= {{ u['username'] }}>
                <button type="submit" class="btn btn-primary btn-sm" style="padding:0px; width:120px;  height: 25px">Add friend</button>
            </form>
        </td>
        <td style=" padding:10px;">
            <form method="POST" style="margin:0px; padding:0px; display:inline;">
                <input type="hidden" name="post_id" value="3">
                <input type="hidden" name="user_id" value= {{ u['username'] }}>
                <button type="submit" class="btn btn-primary btn-sm" style="padding:0px; width:120px;  height: 25px">Follow</button>
            </form>
        </td>

        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endif %}
{% endblock %}